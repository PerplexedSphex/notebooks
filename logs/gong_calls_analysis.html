<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.10/dist/favicon.ico" />
    <!-- Preload is necessary because we show these images when we disconnect from the server,
    but at that point we cannot load these images from the server -->
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.10/dist/assets/gradient-yHQUC_QB.png" as="image" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.10/dist/assets/noise-60BoTA8O.png" as="image" />
    <!-- Preload the fonts -->
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.10/dist/assets/Lora-VariableFont_wght-B2ootaw-.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.10/dist/assets/PTSans-Regular-CxL0S8W7.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.10/dist/assets/PTSans-Bold-D9fedIX3.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.10/dist/assets/FiraMono-Regular-BTCkDNvf.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.10/dist/assets/FiraMono-Medium-DU3aDxX5.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.10/dist/assets/FiraMono-Bold-CLVRCuM9.ttf" as="font" crossorigin="anonymous" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="a marimo app" />
    <link rel="apple-touch-icon" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.10/dist/apple-touch-icon.png" />
    <link rel="manifest" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.10/dist/manifest.json" />

    <script data-marimo="true">
      function __resizeIframe(obj) {
        var scrollbarHeight = 20; // Max between windows, mac, and linux

        function setHeight() {
          var element = obj.contentWindow.document.documentElement;
          // If there is no vertical scrollbar, we don't need to resize the iframe
          if (element.scrollHeight === element.clientHeight) {
            return;
          }

          // Create a new height that includes the scrollbar height if it's visible
          var hasHorizontalScrollbar = element.scrollWidth > element.clientWidth;
          var newHeight = element.scrollHeight + (hasHorizontalScrollbar ? scrollbarHeight : 0);

          // Only update the height if it's different from the current height
          if (obj.style.height !== `${newHeight}px`) {
            obj.style.height = `${newHeight}px`;
          }
        }

        // Resize the iframe to the height of the content and bottom scrollbar height
        setHeight();

        // Resize the iframe when the content changes
        const resizeObserver = new ResizeObserver((entries) => {
          setHeight();
        });
        resizeObserver.observe(obj.contentWindow.document.body);
      }
    </script>
    <marimo-filename hidden>gong_calls_analysis.py</marimo-filename>
    <!-- TODO(Trevor): Legacy, required by VS Code plugin. Remove when plugin is updated (see marimo/server/_templates/template.py) -->
    <marimo-version data-version="{{ version }}" hidden></marimo-version>
    <marimo-user-config data-config="{{ user_config }}" hidden></marimo-user-config>
    <marimo-server-token data-token="{{ server_token }}" hidden></marimo-server-token>
    <!-- /TODO -->
    <title>gong calls analysis</title>
    <script type="module" crossorigin crossorigin="anonymous" src="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.10/dist/assets/index-txb0mb7R.js"></script>
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.10/dist/assets/index-B-hr6ABS.css">
  
<script data-marimo="true">
    window.__MARIMO_STATIC__ = {};
    window.__MARIMO_STATIC__.files = {};
</script>
</head>
  <body>
    <div id="root"></div>
    <script data-marimo="true">
      window.__MARIMO_MOUNT_CONFIG__ = {
            "filename": "gong_calls_analysis.py",
            "mode": "read",
            "version": "0.14.10",
            "serverToken": "static",
            "config": {"completion": {"activate_on_typing": true, "copilot": false}, "display": {"cell_output": "above", "code_editor_font_size": 14, "dataframes": "rich", "default_table_page_size": 10, "default_width": "medium", "reference_highlighting": true, "theme": "light"}, "formatting": {"line_length": 79}, "keymap": {"overrides": {}, "preset": "default"}, "language_servers": {"pylsp": {"enable_flake8": false, "enable_mypy": true, "enable_pydocstyle": false, "enable_pyflakes": false, "enable_pylint": false, "enable_ruff": true, "enabled": true}}, "package_management": {"manager": "uv"}, "runtime": {"auto_instantiate": true, "auto_reload": "off", "default_sql_output": "auto", "on_cell_change": "autorun", "output_max_bytes": 8000000, "reactive_tests": true, "std_stream_max_bytes": 1000000, "watcher_on_save": "lazy"}, "save": {"autosave": "after_delay", "autosave_delay": 1000, "format_on_save": false}, "server": {"browser": "default", "follow_symlink": false}, "snippets": {"custom_paths": [], "include_default_snippets": true}},
            "configOverrides": {},
            "appConfig": {"sql_output": "auto", "width": "medium"},
            "view": {"showAppCode": true},
            "notebook": {"cells": [{"code": "import marimo as mo", "code_hash": "1d0db38904205bec4d6f6f6a1f6cec3e", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Hbol", "name": "_"}, {"code": "mo.md(\n    r\"\"\"\n# Gong Calls Analysis with AI\n\nThis notebook analyzes call data from Gong using AI for insights and pattern detection.\n\"\"\"\n)", "code_hash": "99b97103eafefa617a0d9d2d06f3725c", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "MJUe", "name": "_"}, {"code": "# Import required libraries\nimport pandas as pd\nimport numpy as np\nimport plotly.express as px\nimport plotly.graph_objects as go\nfrom datetime import datetime, timedelta\nimport json\nimport requests\nimport os\nfrom urllib.parse import urlparse, parse_qs\nimport re", "code_hash": "299615621aa4ca3b5342ebacf7b53516", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "vblA", "name": "_"}, {"code": "mo.md(\n    r\"\"\"\n## Data Loading\n\nLoad and examine the Gong call data.\n\nhttps://us-15501.app.gong.io/call?id=7176512277597661813\nhttps://us-15501.app.gong.io/call?id=3189264363249778800\nhttps://us-15501.app.gong.io/call?id=6540721093378607428\nhttps://us-15501.app.gong.io/call?id=7646615448726402593\n\"\"\"\n)", "code_hash": "befb68555ddddf3e313d0483d108ebf0", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "bkHC", "name": "_"}, {"code": "class GongAPI:\n    def __init__(self, access_key=None, access_key_secret=None, base_url=None):\n        self.access_key = access_key or os.getenv('GONG_ACCESS_KEY')\n        self.access_key_secret = access_key_secret or os.getenv('GONG_ACCESS_KEY_SECRET')\n        self.base_url = base_url or os.getenv('GONG_BASE_URL', \"https://us-15501.api.gong.io/v2\")\n        self.session = requests.Session()\n\n        # Set up basic auth for Gong API\n        self.session.auth = (self.access_key, self.access_key_secret)\n\n    def extract_call_id(self, url):\n        \"\"\"Extract call ID from Gong URL\"\"\"\n        match = re.search(r'id=(\\d+)', url)\n        return match.group(1) if match else None\n\n    def get_call_basic(self, call_id):\n        \"\"\"Get basic call information\"\"\"\n        response = self.session.get(f\"{self.base_url}/calls/{call_id}\")\n        response.raise_for_status()\n        return response.json()\n\n    def get_calls_extensive(self, call_ids, include_content=True):\n        \"\"\"Get extensive call data for multiple calls\"\"\"\n        content_selector = {\n            \"exposedFields\": {\n                \"parties\": True,\n                \"content\": {\n                    \"structure\": True,\n                    \"topics\": True,\n                    \"trackers\": True,\n                    \"brief\": True,\n                    \"outline\": True,\n                    \"highlights\": True,\n                    \"callOutcome\": True,\n                    \"keyPoints\": True\n                },\n                \"interaction\": {\n                    \"speakers\": True,\n                    \"questions\": True,\n                    \"personInteractionStats\": True\n                }\n            }\n        } if include_content else {}\n\n        payload = {\n            \"filter\": {\n                \"callIds\": call_ids\n            },\n            \"contentSelector\": content_selector\n        }\n\n        response = self.session.post(f\"{self.base_url}/calls/extensive\", json=payload)\n        response.raise_for_status()\n        return response.json()\n\n# Initialize Gong API client\ngong_api = GongAPI()", "code_hash": "689e7fedd3c682ef1de743a0a994e38c", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "lEQa", "name": "_"}, {"code": "# Extract call IDs from the URLs\ncall_urls = [\n    \"https://us-15501.app.gong.io/call?id=7176512277597661813\",\n    \"https://us-15501.app.gong.io/call?id=3189264363249778800\", \n    \"https://us-15501.app.gong.io/call?id=6540721093378607428\",\n    \"https://us-15501.app.gong.io/call?id=7646615448726402593\"\n]\n\ncall_ids = [gong_api.extract_call_id(url) for url in call_urls]\nmo.md(f\"**Extracted Call IDs:** {call_ids}\")", "code_hash": "7e8ee81d99107c32368c74b56f115146", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "PKri", "name": "_"}, {"code": "# Load call data from Gong API\nextensive_data = gong_api.get_calls_extensive(call_ids)\ncalls_df = pd.json_normalize(extensive_data.get('calls', []))\n\nmo.md(f\"**\u2705 Loaded {len(calls_df)} calls**\")\nmo.md(f\"**Raw API Response Keys:** {list(extensive_data.keys())}\")\n\nif len(calls_df) > 0:\n    mo.md(f\"**DataFrame Columns:** {list(calls_df.columns)}\")\n    mo.md(f\"**Sample Call Data:**\")\n    mo.md(f\"```json\\n{json.dumps(extensive_data['calls'][0], indent=2)[:1000]}...\\n```\")\n\ncalls_df", "code_hash": "c472b9a2391cbec1051733dcedfdd5b8", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Xref", "name": "_"}, {"code": "mo.md(\n    r\"\"\"\n## AI Analysis Setup\n\nConfigure AI tools for call analysis.\n\"\"\"\n)", "code_hash": "65b9f2da635ed8df51f1a89ec64967dd", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "SFPL", "name": "_"}, {"code": "# AI Analysis Configuration\nclass AIAnalyzer:\n    def __init__(self):\n        # Check for available AI service credentials\n        self.anthropic_key = os.getenv('ANTHROPIC_API_KEY')\n        self.openai_key = os.getenv('OPENAI_API_KEY') \n        self.gemini_key = os.getenv('GEMINI_API_KEY')\n\n        # Initialize available services\n        self.available_services = []\n\n        if self.anthropic_key:\n            self.available_services.append(\"Anthropic (Claude)\")\n        if self.openai_key:\n            self.available_services.append(\"OpenAI (GPT)\")\n        if self.gemini_key:\n            self.available_services.append(\"Google (Gemini)\")\n\n        if not self.available_services:\n            mo.md(\"\u26a0\ufe0f **No AI service credentials found.** Set ANTHROPIC_API_KEY, OPENAI_API_KEY, or GEMINI_API_KEY environment variables.\")\n        else:\n            mo.md(f\"\u2705 **Available AI services:** {', '.join(self.available_services)}\")\n\n    def analyze_call_content(self, call_data, analysis_type=\"summary\"):\n        \"\"\"Analyze call content using available AI services\"\"\"\n        if not self.available_services:\n            return {\"error\": \"No AI services configured\"}\n\n        # This would contain the actual AI analysis logic\n        # For now, return a structure for the analysis\n        return {\n            \"analysis_type\": analysis_type,\n            \"service_used\": self.available_services[0],\n            \"call_id\": call_data.get('metaData.id', 'unknown'),\n            \"placeholder\": \"AI analysis implementation goes here\"\n        }\n\n    def get_analysis_prompts(self):\n        \"\"\"Get available analysis prompts for calls\"\"\"\n        return {\n            \"summary\": \"Provide a concise summary of the call including key topics and outcomes\",\n            \"sentiment\": \"Analyze the sentiment and tone throughout the call\",\n            \"action_items\": \"Extract action items and follow-ups mentioned in the call\", \n            \"topics\": \"Identify and categorize the main topics discussed\",\n            \"questions\": \"List questions asked during the call and whether they were answered\",\n            \"objections\": \"Identify any objections or concerns raised and how they were addressed\"\n        }\n\nai_analyzer = AIAnalyzer()\nanalysis_prompts = ai_analyzer.get_analysis_prompts()\n\n# Display available analysis types\nmo.md(\"**Available Analysis Types:**\")\nfor key, desc in analysis_prompts.items():\n    mo.md(f\"- **{key.title()}**: {desc}\")\n", "code_hash": "066b50be2e0f16afe5df7957ab1f1eaa", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "BYtC", "name": "_"}, {"code": "mo.md(\n    r\"\"\"\n## Analysis & Insights\n\nExtract insights from call data using AI.\n\"\"\"\n)", "code_hash": "eab30ff51c5bdd7f3a2c0a3be9e8977c", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "RGSE", "name": "_"}, {"code": "# Call Data Overview and Visualizations\nif not calls_df.empty:\n    # Basic statistics\n    mo.md(\"### \ud83d\udcca Call Data Overview\")\n\n    # Duration analysis (convert seconds to minutes)\n    if 'metaData.duration' in calls_df.columns:\n        calls_df['duration_minutes'] = calls_df['metaData.duration'] / 60\n\n        # Duration distribution\n        fig_duration = px.bar(\n            calls_df, \n            x=[f\"Call {i+1}\" for i in range(len(calls_df))],\n            y='duration_minutes',\n            title=\"Call Duration (Minutes)\",\n            labels={'x': 'Calls', 'y': 'Duration (minutes)'}\n        )\n        fig_duration.show()\n\n        # Summary stats\n        avg_duration = calls_df['duration_minutes'].mean()\n        total_duration = calls_df['duration_minutes'].sum()\n        mo.md(f\"**Average Call Duration:** {avg_duration:.1f} minutes\")\n        mo.md(f\"**Total Call Time:** {total_duration:.1f} minutes\")\n\n    # Call timeline if we have timestamps\n    if 'metaData.started' in calls_df.columns:\n        calls_df['started_dt'] = pd.to_datetime(calls_df['metaData.started'])\n        fig_timeline = px.scatter(\n            calls_df,\n            x='started_dt',\n            y=[f\"Call {i+1}\" for i in range(len(calls_df))],\n            size='duration_minutes' if 'duration_minutes' in calls_df.columns else [20]*len(calls_df),\n            title=\"Call Timeline\",\n            labels={'x': 'Date/Time', 'y': 'Calls'}\n        )\n        fig_timeline.show()\nelse:\n    mo.md(\"**No call data available for visualization**\")\n", "code_hash": "a1a91486f4322030fb182a8a18567fa8", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Kclp", "name": "_"}, {"code": "# AI Analysis Section\nmo.md(\"### \ud83e\udd16 AI Analysis\")\n\nif not calls_df.empty and ai_analyzer.available_services:\n    # Example analysis for first call\n    if len(calls_df) > 0:\n        first_call = calls_df.iloc[0].to_dict()\n        sample_analysis = ai_analyzer.analyze_call_content(first_call, \"summary\")\n\n        mo.md(\"**Sample Analysis Structure:**\")\n        mo.md(f\"```json\\n{sample_analysis}\\n```\")\n\n        mo.md(\"**Ready for full AI analysis implementation.**\")\n        mo.md(\"To implement: Add API calls to your chosen AI service with call transcripts/content.\")\nelse:\n    if calls_df.empty:\n        mo.md(\"**No call data available for analysis**\")\n    else:\n        mo.md(\"**AI services not configured - set API keys to enable analysis**\")\n", "code_hash": "a74d603cd9561fda7896c89f4f62314c", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "emfo", "name": "_"}, {"code": "mo.md(\n    r\"\"\"\n### \ud83d\ude80 Next Steps\n\n1. **Configure API Credentials**: Set `GONG_ACCESS_KEY`, `GONG_ACCESS_KEY_SECRET`, and AI service keys\n2. **Implement AI Analysis**: Add actual API calls to analyze call transcripts  \n3. **Enhanced Visualizations**: Add more charts based on AI insights\n4. **Export Results**: Save analysis results for further processing\n\n**Ready for your custom analysis implementation!**\n\"\"\"\n)", "code_hash": "065809796dddba0b39dd3f4cab51ef6b", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Hstk", "name": "_"}], "metadata": {"marimo_version": "0.14.10"}, "version": "1"},
            "session": {"cells": [{"code_hash": "1d0db38904205bec4d6f6f6a1f6cec3e", "console": [], "id": "Hbol", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "99b97103eafefa617a0d9d2d06f3725c", "console": [], "id": "MJUe", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"><h1 id=\"gong-calls-analysis-with-ai\">Gong Calls Analysis with AI</h1>\n<span class=\"paragraph\">This notebook analyzes call data from Gong using AI for insights and pattern detection.</span></span>"}, "type": "data"}]}, {"code_hash": "299615621aa4ca3b5342ebacf7b53516", "console": [], "id": "vblA", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "befb68555ddddf3e313d0483d108ebf0", "console": [], "id": "bkHC", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"><h2 id=\"data-loading\">Data Loading</h2>\n<span class=\"paragraph\">Load and examine the Gong call data.</span>\n<span class=\"paragraph\"><a href=\"https://us-15501.app.gong.io/call?id=7176512277597661813\" rel=\"noopener\" target=\"_blank\">https://us-15501.app.gong.io/call?id=7176512277597661813</a>\n<a href=\"https://us-15501.app.gong.io/call?id=3189264363249778800\" rel=\"noopener\" target=\"_blank\">https://us-15501.app.gong.io/call?id=3189264363249778800</a>\n<a href=\"https://us-15501.app.gong.io/call?id=6540721093378607428\" rel=\"noopener\" target=\"_blank\">https://us-15501.app.gong.io/call?id=6540721093378607428</a>\n<a href=\"https://us-15501.app.gong.io/call?id=7646615448726402593\" rel=\"noopener\" target=\"_blank\">https://us-15501.app.gong.io/call?id=7646615448726402593</a></span></span>"}, "type": "data"}]}, {"code_hash": "689e7fedd3c682ef1de743a0a994e38c", "console": [], "id": "lEQa", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "7e8ee81d99107c32368c74b56f115146", "console": [], "id": "PKri", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\"><strong>Extracted Call IDs:</strong> ['7176512277597661813', '3189264363249778800', '6540721093378607428', '7646615448726402593']</span></span>"}, "type": "data"}]}, {"code_hash": "c472b9a2391cbec1051733dcedfdd5b8", "console": [{"name": "stderr", "text": "<span class=\"codehilite\"><div class=\"highlight\"><pre><span></span><span class=\"gt\">Traceback (most recent call last):</span>\n  File <span class=\"nb\">&quot;/Users/sam/notebooks/.venv/lib/python3.10/site-packages/marimo/_runtime/executor.py&quot;</span>, line <span class=\"m\">138</span>, in <span class=\"n\">execute_cell</span>\n<span class=\"w\">    </span><span class=\"n\">exec</span><span class=\"p\">(</span><span class=\"n\">cell</span><span class=\"o\">.</span><span class=\"n\">body</span><span class=\"p\">,</span> <span class=\"n\">glbls</span><span class=\"p\">)</span>\n  File <span class=\"nb\">&quot;/var/folders/8p/yj3s15453zbb989f0b6_7ys00000gn/T/marimo_85397/__marimo__cell_Xref_.py&quot;</span>, line <span class=\"m\">2</span>, in <span class=\"n\">&lt;module&gt;</span>\n<span class=\"w\">    </span><span class=\"n\">extensive_data</span> <span class=\"o\">=</span> <span class=\"n\">gong_api</span><span class=\"o\">.</span><span class=\"n\">get_calls_extensive</span><span class=\"p\">(</span><span class=\"n\">call_ids</span><span class=\"p\">)</span>\n  File <span class=\"nb\">&quot;/var/folders/8p/yj3s15453zbb989f0b6_7ys00000gn/T/marimo_85397/__marimo__cell_lEQa_.py&quot;</span>, line <span class=\"m\">53</span>, in <span class=\"n\">get_calls_extensive</span>\n<span class=\"w\">    </span><span class=\"n\">response</span><span class=\"o\">.</span><span class=\"n\">raise_for_status</span><span class=\"p\">()</span>\n  File <span class=\"nb\">&quot;/Users/sam/notebooks/.venv/lib/python3.10/site-packages/requests/models.py&quot;</span>, line <span class=\"m\">1026</span>, in <span class=\"n\">raise_for_status</span>\n<span class=\"w\">    </span><span class=\"k\">raise</span> <span class=\"n\">HTTPError</span><span class=\"p\">(</span><span class=\"n\">http_error_msg</span><span class=\"p\">,</span> <span class=\"n\">response</span><span class=\"o\">=</span><span class=\"bp\">self</span><span class=\"p\">)</span>\n<span class=\"gr\">requests.exceptions.HTTPError</span>: <span class=\"n\">401 Client Error: Unauthorized for url: https://us-15501.api.gong.io/v2/calls/extensive</span>\n</pre></div>\n</span>", "type": "stream"}], "id": "Xref", "outputs": [{"ename": "exception", "evalue": "401 Client Error: Unauthorized for url: https://us-15501.api.gong.io/v2/calls/extensive", "traceback": [], "type": "error"}]}, {"code_hash": "65b9f2da635ed8df51f1a89ec64967dd", "console": [], "id": "SFPL", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"><h2 id=\"ai-analysis-setup\">AI Analysis Setup</h2>\n<span class=\"paragraph\">Configure AI tools for call analysis.</span></span>"}, "type": "data"}]}, {"code_hash": "066b50be2e0f16afe5df7957ab1f1eaa", "console": [], "id": "BYtC", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "eab30ff51c5bdd7f3a2c0a3be9e8977c", "console": [], "id": "RGSE", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"><h2 id=\"analysis-insights\">Analysis &amp; Insights</h2>\n<span class=\"paragraph\">Extract insights from call data using AI.</span></span>"}, "type": "data"}]}, {"code_hash": "a1a91486f4322030fb182a8a18567fa8", "console": [], "id": "Kclp", "outputs": [{"ename": "exception", "evalue": "An ancestor raised an exception (HTTPError): ", "traceback": [], "type": "error"}]}, {"code_hash": "a74d603cd9561fda7896c89f4f62314c", "console": [], "id": "emfo", "outputs": [{"ename": "exception", "evalue": "An ancestor raised an exception (HTTPError): ", "traceback": [], "type": "error"}]}, {"code_hash": "065809796dddba0b39dd3f4cab51ef6b", "console": [], "id": "Hstk", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"><h3 id=\"next-steps\">\ud83d\ude80 Next Steps</h3>\n<ol>\n<li><strong>Configure API Credentials</strong>: Set <code>GONG_ACCESS_KEY</code>, <code>GONG_ACCESS_KEY_SECRET</code>, and AI service keys</li>\n<li><strong>Implement AI Analysis</strong>: Add actual API calls to analyze call transcripts  </li>\n<li><strong>Enhanced Visualizations</strong>: Add more charts based on AI insights</li>\n<li><strong>Export Results</strong>: Save analysis results for further processing</li>\n</ol>\n<span class=\"paragraph\"><strong>Ready for your custom analysis implementation!</strong></span></span>"}, "type": "data"}]}], "metadata": {"marimo_version": "0.14.10"}, "version": "1"},
            "runtimeConfig": null,
        };
    </script>
  
<marimo-code hidden="">
    import%20marimo%0A%0A__generated_with%20%3D%20%220.14.10%22%0Aapp%20%3D%20marimo.App(width%3D%22medium%22)%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20import%20marimo%20as%20mo%0A%20%20%20%20return%20(mo%2C)%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20r%22%22%22%0A%20%20%20%20%23%20Gong%20Calls%20Analysis%20with%20AI%0A%0A%20%20%20%20This%20notebook%20analyzes%20call%20data%20from%20Gong%20using%20AI%20for%20insights%20and%20pattern%20detection.%0A%20%20%20%20%22%22%22%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20%23%20Import%20required%20libraries%0A%20%20%20%20import%20pandas%20as%20pd%0A%20%20%20%20import%20numpy%20as%20np%0A%20%20%20%20import%20plotly.express%20as%20px%0A%20%20%20%20import%20plotly.graph_objects%20as%20go%0A%20%20%20%20from%20datetime%20import%20datetime%2C%20timedelta%0A%20%20%20%20import%20json%0A%20%20%20%20import%20requests%0A%20%20%20%20import%20os%0A%20%20%20%20from%20urllib.parse%20import%20urlparse%2C%20parse_qs%0A%20%20%20%20import%20re%0A%20%20%20%20return%20json%2C%20os%2C%20pd%2C%20px%2C%20re%2C%20requests%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20r%22%22%22%0A%20%20%20%20%23%23%20Data%20Loading%0A%0A%20%20%20%20Load%20and%20examine%20the%20Gong%20call%20data.%0A%0A%20%20%20%20https%3A%2F%2Fus-15501.app.gong.io%2Fcall%3Fid%3D7176512277597661813%0A%20%20%20%20https%3A%2F%2Fus-15501.app.gong.io%2Fcall%3Fid%3D3189264363249778800%0A%20%20%20%20https%3A%2F%2Fus-15501.app.gong.io%2Fcall%3Fid%3D6540721093378607428%0A%20%20%20%20https%3A%2F%2Fus-15501.app.gong.io%2Fcall%3Fid%3D7646615448726402593%0A%20%20%20%20%22%22%22%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(os%2C%20re%2C%20requests)%3A%0A%20%20%20%20class%20GongAPI%3A%0A%20%20%20%20%20%20%20%20def%20__init__(self%2C%20access_key%3DNone%2C%20access_key_secret%3DNone%2C%20base_url%3DNone)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20self.access_key%20%3D%20access_key%20or%20os.getenv('GONG_ACCESS_KEY')%0A%20%20%20%20%20%20%20%20%20%20%20%20self.access_key_secret%20%3D%20access_key_secret%20or%20os.getenv('GONG_ACCESS_KEY_SECRET')%0A%20%20%20%20%20%20%20%20%20%20%20%20self.base_url%20%3D%20base_url%20or%20os.getenv('GONG_BASE_URL'%2C%20%22https%3A%2F%2Fus-15501.api.gong.io%2Fv2%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20self.session%20%3D%20requests.Session()%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20Set%20up%20basic%20auth%20for%20Gong%20API%0A%20%20%20%20%20%20%20%20%20%20%20%20self.session.auth%20%3D%20(self.access_key%2C%20self.access_key_secret)%0A%0A%20%20%20%20%20%20%20%20def%20extract_call_id(self%2C%20url)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%22%22Extract%20call%20ID%20from%20Gong%20URL%22%22%22%0A%20%20%20%20%20%20%20%20%20%20%20%20match%20%3D%20re.search(r'id%3D(%5Cd%2B)'%2C%20url)%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20match.group(1)%20if%20match%20else%20None%0A%0A%20%20%20%20%20%20%20%20def%20get_call_basic(self%2C%20call_id)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%22%22Get%20basic%20call%20information%22%22%22%0A%20%20%20%20%20%20%20%20%20%20%20%20response%20%3D%20self.session.get(f%22%7Bself.base_url%7D%2Fcalls%2F%7Bcall_id%7D%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20response.raise_for_status()%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20response.json()%0A%0A%20%20%20%20%20%20%20%20def%20get_calls_extensive(self%2C%20call_ids%2C%20include_content%3DTrue)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%22%22Get%20extensive%20call%20data%20for%20multiple%20calls%22%22%22%0A%20%20%20%20%20%20%20%20%20%20%20%20content_selector%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22exposedFields%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22parties%22%3A%20True%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22content%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22structure%22%3A%20True%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22topics%22%3A%20True%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22trackers%22%3A%20True%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22brief%22%3A%20True%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22outline%22%3A%20True%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22highlights%22%3A%20True%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22callOutcome%22%3A%20True%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22keyPoints%22%3A%20True%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22interaction%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22speakers%22%3A%20True%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22questions%22%3A%20True%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22personInteractionStats%22%3A%20True%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20if%20include_content%20else%20%7B%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20payload%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22filter%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22callIds%22%3A%20call_ids%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contentSelector%22%3A%20content_selector%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20response%20%3D%20self.session.post(f%22%7Bself.base_url%7D%2Fcalls%2Fextensive%22%2C%20json%3Dpayload)%0A%20%20%20%20%20%20%20%20%20%20%20%20response.raise_for_status()%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20response.json()%0A%0A%20%20%20%20%23%20Initialize%20Gong%20API%20client%0A%20%20%20%20gong_api%20%3D%20GongAPI()%0A%20%20%20%20return%20(gong_api%2C)%0A%0A%0A%40app.cell%0Adef%20_(gong_api%2C%20mo)%3A%0A%20%20%20%20%23%20Extract%20call%20IDs%20from%20the%20URLs%0A%20%20%20%20call_urls%20%3D%20%5B%0A%20%20%20%20%20%20%20%20%22https%3A%2F%2Fus-15501.app.gong.io%2Fcall%3Fid%3D7176512277597661813%22%2C%0A%20%20%20%20%20%20%20%20%22https%3A%2F%2Fus-15501.app.gong.io%2Fcall%3Fid%3D3189264363249778800%22%2C%20%0A%20%20%20%20%20%20%20%20%22https%3A%2F%2Fus-15501.app.gong.io%2Fcall%3Fid%3D6540721093378607428%22%2C%0A%20%20%20%20%20%20%20%20%22https%3A%2F%2Fus-15501.app.gong.io%2Fcall%3Fid%3D7646615448726402593%22%0A%20%20%20%20%5D%0A%0A%20%20%20%20call_ids%20%3D%20%5Bgong_api.extract_call_id(url)%20for%20url%20in%20call_urls%5D%0A%20%20%20%20mo.md(f%22**Extracted%20Call%20IDs%3A**%20%7Bcall_ids%7D%22)%0A%20%20%20%20return%20(call_ids%2C)%0A%0A%0A%40app.cell%0Adef%20_(call_ids%2C%20gong_api%2C%20json%2C%20mo%2C%20pd)%3A%0A%20%20%20%20%23%20Load%20call%20data%20from%20Gong%20API%0A%20%20%20%20extensive_data%20%3D%20gong_api.get_calls_extensive(call_ids)%0A%20%20%20%20calls_df%20%3D%20pd.json_normalize(extensive_data.get('calls'%2C%20%5B%5D))%0A%0A%20%20%20%20mo.md(f%22**%E2%9C%85%20Loaded%20%7Blen(calls_df)%7D%20calls**%22)%0A%20%20%20%20mo.md(f%22**Raw%20API%20Response%20Keys%3A**%20%7Blist(extensive_data.keys())%7D%22)%0A%0A%20%20%20%20if%20len(calls_df)%20%3E%200%3A%0A%20%20%20%20%20%20%20%20mo.md(f%22**DataFrame%20Columns%3A**%20%7Blist(calls_df.columns)%7D%22)%0A%20%20%20%20%20%20%20%20mo.md(f%22**Sample%20Call%20Data%3A**%22)%0A%20%20%20%20%20%20%20%20mo.md(f%22%60%60%60json%5Cn%7Bjson.dumps(extensive_data%5B'calls'%5D%5B0%5D%2C%20indent%3D2)%5B%3A1000%5D%7D...%5Cn%60%60%60%22)%0A%0A%20%20%20%20calls_df%0A%20%20%20%20return%20(calls_df%2C)%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20r%22%22%22%0A%20%20%20%20%23%23%20AI%20Analysis%20Setup%0A%0A%20%20%20%20Configure%20AI%20tools%20for%20call%20analysis.%0A%20%20%20%20%22%22%22%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(mo%2C%20os)%3A%0A%20%20%20%20%23%20AI%20Analysis%20Configuration%0A%20%20%20%20class%20AIAnalyzer%3A%0A%20%20%20%20%20%20%20%20def%20__init__(self)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20Check%20for%20available%20AI%20service%20credentials%0A%20%20%20%20%20%20%20%20%20%20%20%20self.anthropic_key%20%3D%20os.getenv('ANTHROPIC_API_KEY')%0A%20%20%20%20%20%20%20%20%20%20%20%20self.openai_key%20%3D%20os.getenv('OPENAI_API_KEY')%20%0A%20%20%20%20%20%20%20%20%20%20%20%20self.gemini_key%20%3D%20os.getenv('GEMINI_API_KEY')%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20Initialize%20available%20services%0A%20%20%20%20%20%20%20%20%20%20%20%20self.available_services%20%3D%20%5B%5D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20self.anthropic_key%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self.available_services.append(%22Anthropic%20(Claude)%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20self.openai_key%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self.available_services.append(%22OpenAI%20(GPT)%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20self.gemini_key%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self.available_services.append(%22Google%20(Gemini)%22)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20not%20self.available_services%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mo.md(%22%E2%9A%A0%EF%B8%8F%20**No%20AI%20service%20credentials%20found.**%20Set%20ANTHROPIC_API_KEY%2C%20OPENAI_API_KEY%2C%20or%20GEMINI_API_KEY%20environment%20variables.%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mo.md(f%22%E2%9C%85%20**Available%20AI%20services%3A**%20%7B'%2C%20'.join(self.available_services)%7D%22)%0A%0A%20%20%20%20%20%20%20%20def%20analyze_call_content(self%2C%20call_data%2C%20analysis_type%3D%22summary%22)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%22%22Analyze%20call%20content%20using%20available%20AI%20services%22%22%22%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20not%20self.available_services%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%22error%22%3A%20%22No%20AI%20services%20configured%22%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20This%20would%20contain%20the%20actual%20AI%20analysis%20logic%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20For%20now%2C%20return%20a%20structure%20for%20the%20analysis%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22analysis_type%22%3A%20analysis_type%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22service_used%22%3A%20self.available_services%5B0%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22call_id%22%3A%20call_data.get('metaData.id'%2C%20'unknown')%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22placeholder%22%3A%20%22AI%20analysis%20implementation%20goes%20here%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20def%20get_analysis_prompts(self)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%22%22Get%20available%20analysis%20prompts%20for%20calls%22%22%22%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22summary%22%3A%20%22Provide%20a%20concise%20summary%20of%20the%20call%20including%20key%20topics%20and%20outcomes%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22sentiment%22%3A%20%22Analyze%20the%20sentiment%20and%20tone%20throughout%20the%20call%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22action_items%22%3A%20%22Extract%20action%20items%20and%20follow-ups%20mentioned%20in%20the%20call%22%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22topics%22%3A%20%22Identify%20and%20categorize%20the%20main%20topics%20discussed%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22questions%22%3A%20%22List%20questions%20asked%20during%20the%20call%20and%20whether%20they%20were%20answered%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22objections%22%3A%20%22Identify%20any%20objections%20or%20concerns%20raised%20and%20how%20they%20were%20addressed%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20ai_analyzer%20%3D%20AIAnalyzer()%0A%20%20%20%20analysis_prompts%20%3D%20ai_analyzer.get_analysis_prompts()%0A%0A%20%20%20%20%23%20Display%20available%20analysis%20types%0A%20%20%20%20mo.md(%22**Available%20Analysis%20Types%3A**%22)%0A%20%20%20%20for%20key%2C%20desc%20in%20analysis_prompts.items()%3A%0A%20%20%20%20%20%20%20%20mo.md(f%22-%20**%7Bkey.title()%7D**%3A%20%7Bdesc%7D%22)%0A%0A%20%20%20%20return%20(ai_analyzer%2C)%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20r%22%22%22%0A%20%20%20%20%23%23%20Analysis%20%26%20Insights%0A%0A%20%20%20%20Extract%20insights%20from%20call%20data%20using%20AI.%0A%20%20%20%20%22%22%22%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(calls_df%2C%20mo%2C%20pd%2C%20px)%3A%0A%20%20%20%20%23%20Call%20Data%20Overview%20and%20Visualizations%0A%20%20%20%20if%20not%20calls_df.empty%3A%0A%20%20%20%20%20%20%20%20%23%20Basic%20statistics%0A%20%20%20%20%20%20%20%20mo.md(%22%23%23%23%20%F0%9F%93%8A%20Call%20Data%20Overview%22)%0A%0A%20%20%20%20%20%20%20%20%23%20Duration%20analysis%20(convert%20seconds%20to%20minutes)%0A%20%20%20%20%20%20%20%20if%20'metaData.duration'%20in%20calls_df.columns%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20calls_df%5B'duration_minutes'%5D%20%3D%20calls_df%5B'metaData.duration'%5D%20%2F%2060%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20Duration%20distribution%0A%20%20%20%20%20%20%20%20%20%20%20%20fig_duration%20%3D%20px.bar(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20calls_df%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20x%3D%5Bf%22Call%20%7Bi%2B1%7D%22%20for%20i%20in%20range(len(calls_df))%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20y%3D'duration_minutes'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20title%3D%22Call%20Duration%20(Minutes)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20labels%3D%7B'x'%3A%20'Calls'%2C%20'y'%3A%20'Duration%20(minutes)'%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20fig_duration.show()%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20Summary%20stats%0A%20%20%20%20%20%20%20%20%20%20%20%20avg_duration%20%3D%20calls_df%5B'duration_minutes'%5D.mean()%0A%20%20%20%20%20%20%20%20%20%20%20%20total_duration%20%3D%20calls_df%5B'duration_minutes'%5D.sum()%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.md(f%22**Average%20Call%20Duration%3A**%20%7Bavg_duration%3A.1f%7D%20minutes%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.md(f%22**Total%20Call%20Time%3A**%20%7Btotal_duration%3A.1f%7D%20minutes%22)%0A%0A%20%20%20%20%20%20%20%20%23%20Call%20timeline%20if%20we%20have%20timestamps%0A%20%20%20%20%20%20%20%20if%20'metaData.started'%20in%20calls_df.columns%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20calls_df%5B'started_dt'%5D%20%3D%20pd.to_datetime(calls_df%5B'metaData.started'%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20fig_timeline%20%3D%20px.scatter(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20calls_df%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20x%3D'started_dt'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20y%3D%5Bf%22Call%20%7Bi%2B1%7D%22%20for%20i%20in%20range(len(calls_df))%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20size%3D'duration_minutes'%20if%20'duration_minutes'%20in%20calls_df.columns%20else%20%5B20%5D*len(calls_df)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20title%3D%22Call%20Timeline%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20labels%3D%7B'x'%3A%20'Date%2FTime'%2C%20'y'%3A%20'Calls'%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20fig_timeline.show()%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20mo.md(%22**No%20call%20data%20available%20for%20visualization**%22)%0A%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(ai_analyzer%2C%20calls_df%2C%20mo)%3A%0A%20%20%20%20%23%20AI%20Analysis%20Section%0A%20%20%20%20mo.md(%22%23%23%23%20%F0%9F%A4%96%20AI%20Analysis%22)%0A%0A%20%20%20%20if%20not%20calls_df.empty%20and%20ai_analyzer.available_services%3A%0A%20%20%20%20%20%20%20%20%23%20Example%20analysis%20for%20first%20call%0A%20%20%20%20%20%20%20%20if%20len(calls_df)%20%3E%200%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20first_call%20%3D%20calls_df.iloc%5B0%5D.to_dict()%0A%20%20%20%20%20%20%20%20%20%20%20%20sample_analysis%20%3D%20ai_analyzer.analyze_call_content(first_call%2C%20%22summary%22)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.md(%22**Sample%20Analysis%20Structure%3A**%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.md(f%22%60%60%60json%5Cn%7Bsample_analysis%7D%5Cn%60%60%60%22)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.md(%22**Ready%20for%20full%20AI%20analysis%20implementation.**%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.md(%22To%20implement%3A%20Add%20API%20calls%20to%20your%20chosen%20AI%20service%20with%20call%20transcripts%2Fcontent.%22)%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20if%20calls_df.empty%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.md(%22**No%20call%20data%20available%20for%20analysis**%22)%0A%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.md(%22**AI%20services%20not%20configured%20-%20set%20API%20keys%20to%20enable%20analysis**%22)%0A%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20r%22%22%22%0A%20%20%20%20%23%23%23%20%F0%9F%9A%80%20Next%20Steps%0A%0A%20%20%20%201.%20**Configure%20API%20Credentials**%3A%20Set%20%60GONG_ACCESS_KEY%60%2C%20%60GONG_ACCESS_KEY_SECRET%60%2C%20and%20AI%20service%20keys%0A%20%20%20%202.%20**Implement%20AI%20Analysis**%3A%20Add%20actual%20API%20calls%20to%20analyze%20call%20transcripts%20%20%0A%20%20%20%203.%20**Enhanced%20Visualizations**%3A%20Add%20more%20charts%20based%20on%20AI%20insights%0A%20%20%20%204.%20**Export%20Results**%3A%20Save%20analysis%20results%20for%20further%20processing%0A%0A%20%20%20%20**Ready%20for%20your%20custom%20analysis%20implementation!**%0A%20%20%20%20%22%22%22%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0Aif%20__name__%20%3D%3D%20%22__main__%22%3A%0A%20%20%20%20app.run()%0A
</marimo-code>

<marimo-code-hash hidden="">4cd1b30edb61d45c81708f3cbc20a1d3c65005dd978f891da813eca53d0ddf44</marimo-code-hash>
</body>
</html>
